<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <title>Overtime Tracker</title>

    <script type="module">
    </script>
    <script type="module" src="./js/index.js"></script>
    
    <script defer src="./js/cdn.min.js.js"></script>
    
    
    <meta
      name="viewport"
      content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />

    <script
      type="module"
      src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.js"
    ></script>

    <link rel="icon" type="image/x-icon" href="./assets/icon/favicon.ico" />
    <link rel="manifest" href="./manifest.json" />
    <link rel="stylesheet" href="./css/style.css" />
    <meta name="theme-color" content="#31d53d" />
  </head>
  <body style="background-color: #972e1a; color: #ec9f91; font-weight: bold; font-family: 'Courier New', Courier, monospace;">
    
      <div x-data="cards" style = "width: 88vw; margin-left: 3vw; font-size: clamp(2rem, 2vw, 6rem); margin-top: 5vh; text-align: center;">
        <div style="display: flex; justify-content: space-between; flex-direction: row; align-content: stretch;">
        

        <div style="width: 60vw; display: flex;">
          <button x-show="shifts.length == 0 || (shifts.length > 0 && shifts[shifts.length - 1].type == 'end')" @click="addTime()" x-text="'START'" style = "font-size: inherit; display: inline-block; width: 100%; margin-top: 1vh; padding: 20px; background-color: #00ca00; border-radius: 5px; border: none; color: white;"></button>
          <button x-show="shifts.length > 0 && shifts[shifts.length - 1].type == 'start'"  @click="addTime()" x-text="'END'" style = "font-size: inherit; display: inline-block; width: 100%; margin-top: 1vh; padding: 20px; background-color: #ca0000; border-radius: 5px; border: none; color: white;"></button>
          <!--<button class="startBtn" @click="addTime()" x-text="shifts.length > 0 ? shifts[shifts.length - 1].type == 'end' ? 'START' : 'END' : 'START'" style = "font-size: large; display: block; width: 100%; margin-top: 1vh; padding: 20px;"></button>-->
        </div>

        <div style="width: 25vw; display: flex;">
          <input type="text" x-model="$store.shiftLength" x-text="$store.shiftLength" x-on:change="$store.changeShiftIntervall.changeShiftIntervall($store.shiftLength)"
            style = "font-size: inherit; display: inline-block; width: 100%; padding: 20px; border-radius: 5px; border: none; background-color: #c23b22; color: #ec9f91; font-weight: bolder;">
        </div>


        </div>
        
        <p x-text="
          'Time elapsed: ' + $store.timeElapsed
        "></p>

        <div>
          <p x-show="$store.tulora < 0" x-text="'Over time: ' + $store.tulora + ' H'" style="color: #ff0000; font-size: clamp(1.5rem, 2vw, 4rem);"></p>
          <p x-show="$store.tulora > 0" x-text="'Over time: ' + $store.tulora + ' H'" style="color: #00ca00; font-size: clamp(1.5rem, 2vw, 4rem);"></p>
          <p x-show="$store.tulora === 0" x-text="'Over time: ' + $store.tulora + ' H'" style="color: inherit; font-size: clamp(1.5rem, 2vw, 4rem);"></p>
        </div>

        <template x-for="shift in (shifts ? displayCards() : [{id: 0, type: 'null', time: 000000}])">
          <li style="padding: 10px; display: block; width: 100%; margin-top: 10px; border-radius: 5px; text-align: left; background-color: #c23b22; position: relative; font-size: clamp(1rem, 2vw, 2rem);">

            <input type="text" x-model = "shift[2].cardData1" x-on:change="changeDateTime(shift[2].cardData1, shift[2].id1)" style="display: block; background-color: inherit; border: none; font-size: inherit; font-family: inherit; color: inherit; font-weight: inherit; width: 100%; text-align: center;">
            <input x-show="shift[2].id2 !== null" type="text" x-model = "shift[2].cardData2" x-on:change="changeDateTime(shift[2].cardData2, shift[2].id2)" style="display: block; background-color: inherit; border: none; font-size: inherit; font-family: inherit; color: inherit; font-weight: inherit; width: 100%; text-align: center;">
            <!-- <p x-show="shift.length > 1" style="display: block;" x-text="shift[1]?.type.toUpperCase() + ': ' + shift[1]?.time" contenteditable></p> -->

            <button style = "font-size: 1rem; display: inline-block; margin-top: 1vh; padding: 5px; background-color: #ca0000; border-radius: 5px; border: none; color: white;" x-on:click="deleteCard(shift.map(e => e.id))">DELETE</button>

          </li>
        </template>

        
      </div>

  </body>
</html>
